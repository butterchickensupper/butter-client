<div class="cart-container">
  <mat-accordion class="result" [multi]="false">
    <mat-expansion-panel [expanded]="(step$ | async) === stepId" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Cart
        </mat-panel-title>
        <mat-panel-description>
          <div [hidden]="(step$ | async) === stepId">{{ getTotal() | currency }}</div>
          <mat-icon>shopping_bag</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <div class="menu">
        <div class="menu-item" *ngFor="let item of orders">
          <app-menu-item-viewer #viewer [item]="item.item" [quantity]="item.quantity" (addItem)="onEdit($event)"
            (deleteItem)="onDelete($event)" [readOnly]="true" [imageSize]="64">
          </app-menu-item-viewer>
          <p></p>
        </div>
      </div>
      <p></p>
      <div>
        <mat-label>Total: </mat-label>
        <span>{{ getTotal() | currency }}</span>
      </div>
      <p></p>

      <mat-action-row [hidden]="checkout">
        <button mat-button color="primary" (click)="goToAccount()" [disabled]="getTotal() === 0">Checkout</button>
      </mat-action-row>
    </mat-expansion-panel>

    <ng-container *ngIf="checkout">
      <app-account-selector></app-account-selector>
      <app-order-type></app-order-type>
      <app-billing-info></app-billing-info>
      <app-payment-info (order)="submit($event)"></app-payment-info>
    </ng-container>
  </mat-accordion>
</div>
